<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>btb.fit â€“ Settings</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Password gate modal -->
  <div id="password-modal" class="modal">
    <div class="login-card">
      <h2>Settings Access</h2>
      <p>Enter password to manage your settings.</p>
      <form id="password-form">
        <input type="password" id="password-input" placeholder="Enter admin password" required>
        <button type="submit" class="btn">Unlock Settings</button>
      </form>
      <p id="error-message" style="color: #ff6b6b; display: none; margin-top: 10px;">Incorrect password</p>
    </div>
  </div>

  <!-- Main app (hidden until password is correct) -->
  <div id="app" class="app hidden">
    <header>
      <div class="logo-container">
        <img src="assets/logo.png" alt="BTB Logo" class="logo-img" style="cursor: pointer;" onclick="window.location.href='index.html'">
        <div class="brand">
          <span class="brand-name">btb<span class="dot">.fit</span></span>
          <span class="brand-tag">Settings</span>
        </div>
      </div>
      <div id="user-bar" class="user-bar">
        <button id="back-to-admin-btn" class="btn secondary">Back to Admin</button>
        <button id="view-profile-btn" class="btn secondary">View Public Profile</button>
        <button id="logout-btn" class="btn secondary">Lock</button>
      </div>
    </header>

    <main style="display: flex; flex-direction: column; gap: 24px; max-width: 800px; margin: 0 auto;">
      <!-- Current Saved Data Display -->
      <div class="card" style="background: linear-gradient(135deg, #1a2332 0%, #2a3847 100%); border: 2px solid #34e27c;">
        <h2 style="margin-bottom: 16px; color: #34e27c;">ðŸ“Š Currently Saved Data</h2>
        <div id="saved-data-display">
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
            <div>
              <p style="font-size: 12px; color: #9aa8c7; margin-bottom: 4px;">Display Name</p>
              <p id="display-name-display" style="font-size: 16px; font-weight: 600; color: #e5e9f0;">Not set</p>
            </div>
            <div>
              <p style="font-size: 12px; color: #9aa8c7; margin-bottom: 4px;">Age</p>
              <p id="age-display" style="font-size: 16px; font-weight: 600; color: #e5e9f0;">Not set</p>
            </div>
            <div>
              <p style="font-size: 12px; color: #9aa8c7; margin-bottom: 4px;">Height</p>
              <p id="height-display" style="font-size: 16px; font-weight: 600; color: #e5e9f0;">Not set</p>
            </div>
            <div>
              <p style="font-size: 12px; color: #9aa8c7; margin-bottom: 4px;">Weight</p>
              <p id="weight-display" style="font-size: 16px; font-weight: 600; color: #e5e9f0;">Not set</p>
            </div>
            <div>
              <p style="font-size: 12px; color: #9aa8c7; margin-bottom: 4px;">Muscle %</p>
              <p id="muscle-display" style="font-size: 16px; font-weight: 600; color: #e5e9f0;">Not set</p>
            </div>
            <div>
              <p style="font-size: 12px; color: #9aa8c7; margin-bottom: 4px;">Body Fat %</p>
              <p id="body-fat-display" style="font-size: 16px; font-weight: 600; color: #e5e9f0;">Not set</p>
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <h2>Baseline Stats</h2>
        <p style="font-size: 13px; color: #9aa8c7; margin-bottom: 16px;">
          Set your starting measurements (used when height is not specified in daily logs)
        </p>
        <form id="baseline-form">
          <div class="field-row">
            <div class="field">
              <label for="baseline-age-input">Age</label>
              <input type="number" id="baseline-age-input" min="13" max="120" placeholder="e.g., 25" required>
            </div>
          </div>
          <div class="field-row">
            <div class="field">
              <label for="baseline-weight-input">Starting Weight</label>
              <div class="input-group">
                <input type="number" id="baseline-weight-input" step="0.1" min="0" placeholder="e.g. 180" required>
                <select id="baseline-weight-unit" class="unit-select">
                  <option value="lb">lb</option>
                  <option value="kg">kg</option>
                </select>
              </div>
            </div>
            <div class="field height-field">
              <label>Starting Height</label>
              <div style="display: flex; gap: 8px;">
                <input type="number" id="baseline-height-ft" placeholder="ft" min="0" max="8" required>
                <input type="number" id="baseline-height-in" placeholder="in" min="0" max="11" step="0.5" required>
              </div>
            </div>
          </div>
          <div class="field-row">
            <div class="field">
              <label for="baseline-muscle-input">Starting Muscle % - optional</label>
              <input type="number" id="baseline-muscle-input" step="0.1" min="5" max="70" placeholder="e.g. 35">
            </div>
          </div>
          <div class="field-row">
            <div class="field">
              <label for="baseline-body-fat-input">Starting Body Fat % - optional</label>
              <input type="number" id="baseline-body-fat-input" step="0.1" min="3" max="60" placeholder="e.g. 18">
            </div>
            <div class="field">
              <label for="baseline-body-water-input">Starting Body Water % - optional</label>
              <input type="number" id="baseline-body-water-input" step="0.1" min="35" max="75" placeholder="e.g. 55">
            </div>
          </div>
          <div class="field-row">
            <div class="field">
              <label for="baseline-bone-mass-input">Starting Bone Mass (lb) - optional</label>
              <input type="number" id="baseline-bone-mass-input" step="0.1" min="2" max="20" placeholder="e.g. 6.5">
            </div>
            <div class="field">
              <label for="baseline-bmr-input">Starting BMR (cal/day) - optional</label>
              <input type="number" id="baseline-bmr-input" step="1" min="800" max="4000" placeholder="e.g. 1650">
            </div>
          </div>
          <div class="form-footer">
            <button type="submit" class="btn">Save Baseline</button>
          </div>
        </form>
      </div>

      <div class="card">
        <h2>Profile Settings</h2>
        <form id="profile-form">
          <div class="field-row">
            <div class="field">
              <label for="display-name-input">Display Name</label>
              <input type="text" id="display-name-input" placeholder="e.g. Brandon" maxlength="50">
              <p style="font-size: 11px; color: #7c8aa9; margin-top: 4px;">
                Public profile will show: "{Your Name}'s Fitness Journey"
              </p>
            </div>
          </div>
          <div class="form-footer">
            <button type="submit" class="btn">Save Profile</button>
          </div>
        </form>
      </div>

      <div class="card">
        <h2>Privacy Settings</h2>
        <p style="font-size: 13px; color: #9aa8c7; margin-bottom: 16px;">
          Control which modules are visible on your public profile
        </p>
        <div style="display: flex; flex-direction: column; gap: 12px;">
          <label class="privacy-setting-row">
            <span class="privacy-label">Current Stats</span>
            <label class="privacy-toggle">
              <input type="checkbox" id="privacy-silhouette" checked>
              <span class="toggle-label">Public</span>
            </label>
          </label>
          <label class="privacy-setting-row">
            <span class="privacy-label">BMI Over Time</span>
            <label class="privacy-toggle">
              <input type="checkbox" id="privacy-bmi" checked>
              <span class="toggle-label">Public</span>
            </label>
          </label>
          <label class="privacy-setting-row">
            <span class="privacy-label">Progress Chart</span>
            <label class="privacy-toggle">
              <input type="checkbox" id="privacy-progress" checked>
              <span class="toggle-label">Public</span>
            </label>
          </label>
          <label class="privacy-setting-row">
            <span class="privacy-label">Athleticism Score</span>
            <label class="privacy-toggle">
              <input type="checkbox" id="privacy-athleticism" checked>
              <span class="toggle-label">Public</span>
            </label>
          </label>
          <label class="privacy-setting-row">
            <span class="privacy-label">Water Intake</span>
            <label class="privacy-toggle">
              <input type="checkbox" id="privacy-water" checked>
              <span class="toggle-label">Public</span>
            </label>
          </label>
          <label class="privacy-setting-row">
            <span class="privacy-label">Daily Macros</span>
            <label class="privacy-toggle">
              <input type="checkbox" id="privacy-macros" checked>
              <span class="toggle-label">Public</span>
            </label>
          </label>
          <label class="privacy-setting-row">
            <span class="privacy-label">Weight Projections</span>
            <label class="privacy-toggle">
              <input type="checkbox" id="privacy-projections" checked>
              <span class="toggle-label">Public</span>
            </label>
          </label>
        </div>
      </div>

      <div class="card">
        <h2>Data Management</h2>
        <p style="font-size: 13px; color: #9aa8c7; margin-bottom: 16px;">
          Export or import your fitness data
        </p>
        <div style="display: flex; gap: 12px;">
          <button id="export-btn" class="btn secondary">Export Data</button>
          <button id="import-btn" class="btn secondary">Import Data</button>
        </div>
        <input type="file" id="import-file" accept=".json" style="display: none;">
      </div>
    </main>
  </div>

  <script src="settings.js?v=5"></script>
</body>
</html>
